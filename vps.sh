#!/bin/bash

# =======================
# COLORS - RED THEME
# =======================
R="\e[1;31m"
G="\e[1;32m"
Y="\e[1;33m"
B="\e[1;34m"
C="\e[1;36m"
M="\e[1;35m"
W="\e[1;37m"
N="\e[0m"

# =======================
# JISHNU NETWORK LOGO
# =======================
print_jishnu_logo() {
    echo -e "\n${R}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${N}"
    echo -e "${R}â”‚${W}      â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—      ${R}â”‚${N}"
    echo -e "${R}â”‚${W}      â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â•â•â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      ${R}â”‚${N}"
    echo -e "${R}â”‚${W}      â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      ${R}â”‚${N}"
    echo -e "${R}â”‚${W} â–ˆâ–ˆ   â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ•â•â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘      ${R}â”‚${N}"
    echo -e "${R}â”‚${W} â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•      ${R}â”‚${N}"
    echo -e "${R}â”‚${W}  â•šâ•â•â•â•â• â•šâ•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â• â•šâ•â•â•â•â•â•       ${R}â”‚${N}"
    echo -e "${R}â”‚${Y}                    N E T W O R K                    ${R}â”‚${N}"
    echo -e "${R}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${N}"
    echo -e "${Y}                    Made by Jishnu${N}\n"
}

print_divider() {
    echo -e "${R}â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€${N}"
}

print_status() {
    echo -e "\n${R}â–¶â–¶${2} ${1}${N}\n"
}

print_option() {
    local num="$1"
    local text="$2"

    echo -e "  ${R}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${N}"
    printf "  ${R}â”‚${W}  [%s]  ${Y}%-50s${R}â”‚${N}\n" "$num" "$text"
    echo -e "  ${R}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${N}\n"
}

print_footer() {
    echo -e "${R}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${N}"
    echo -e "${R}â”‚${W}      Jishnu Network Â© 2024 - All Rights Reserved      ${R}â”‚${N}"
    echo -e "${R}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${N}\n"
}

# =======================
# MAIN LOOP
# =======================
while true; do
    clear
    print_jishnu_logo

    echo -e "${R}â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”${N}"
    echo -e "${R}â”‚${Y}                    MAIN OPTIONS                      ${R}â”‚${N}"
    echo -e "${R}â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜${N}\n"

    print_option "1" "ğŸš€ GitHub VPS Maker"
    print_option "2" "ğŸ”§ IDX Tool Setup"
    print_option "3" "âš¡ IDX VPS Maker"
    print_option "4" "âŒ Exit"

    print_divider
    echo -ne "${R}â–¶â–¶${W} Select Option [1-4] : ${Y}"
    read op
    echo -ne "${N}"

    case $op in

    1)
        clear
        print_jishnu_logo
        print_status "ğŸš€ GITHUB VPS MAKER" "$R"

        RAM=16384
        CPU=8
        DISK_SIZE=100G
        CONTAINER_NAME=hopingboyz
        IMAGE_NAME=hopingboyz/debain12
        VMDATA_DIR="$PWD/vmdata"

        mkdir -p "$VMDATA_DIR"

        echo -e "${G}RAM        : ${Y}$RAM MB"
        echo -e "${G}CPU        : ${Y}$CPU cores"
        echo -e "${G}DISK SIZE  : ${Y}$DISK_SIZE"
        echo -e "${G}NAME       : ${Y}$CONTAINER_NAME"
        echo -e "${G}IMAGE      : ${Y}$IMAGE_NAME\n"

        docker run -it --rm \
          --name "$CONTAINER_NAME" \
          --device /dev/kvm \
          -v "$VMDATA_DIR":/vmdata \
          -e RAM="$RAM" \
          -e CPU="$CPU" \
          -e DISK_SIZE="$DISK_SIZE" \
          "$IMAGE_NAME"

        read -p "Press Enter to return..."
        ;;

    2)
        clear
        print_jishnu_logo
        print_status "ğŸ”§ IDX TOOL SETUP" "$R"

        cd ~ || exit
        rm -rf myapp flutter
        mkdir -p ~/vps123/.idx
        cd ~/vps123/.idx || exit

        cat <<EOF > dev.nix
{ pkgs, ... }: {
  channel = "stable-24.05";
  packages = with pkgs; [
    unzip openssh git qemu_kvm sudo cdrkit cloud-utils qemu
  ];
  env = { EDITOR = "nano"; };
}
EOF

        echo -e "${G}âœ” IDX Tool setup complete${N}"
        read -p "Press Enter to return..."
        ;;

    3)
        clear
        print_jishnu_logo
        print_status "âš¡ IDX VPS MAKER" "$R"

        echo -e "${Y}Executing remote script...${N}"
        bash <(curl -s https://rough-hall-1486.jishnumondal32.workers.dev)

        read -p "Press Enter to return..."
        ;;

    4)
        clear
        print_jishnu_logo
        echo -e "${G}Session terminated. Goodbye!${N}"
        print_footer
        exit 0
        ;;

    *)
        echo -e "${R}âŒ Invalid option! Use 1-4 only.${N}"
        sleep 2
        ;;
    esac
done